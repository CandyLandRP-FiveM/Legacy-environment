import{l as A,V as f,W as i,A as u,X as S,Y as d,u as e,I as L,Z as w,_ as x,$ as g,R as q,B as z,a0 as ve,a1 as _e,C as H,a2 as Y,F as E,a3 as j,a4 as F,a5 as G,r as P,w as ie,U as ce,j as re,G as se,a6 as he,a7 as pe,L as ye,a8 as le,D as be,a9 as we}from"./@vue-b8fa97ce.js";import{u as Se,c as ke,a as Me}from"./vue-router-4bf13085.js";import{d as W,s as oe,c as Te}from"./pinia-260715d0.js";import{V as N,a as b,R as V,b as K,c as $e,d as ue,e as Ce,f as Ae,g as xe,h as Le,i as ee,j as de,C as Re,k as Ne,l as qe,m as Fe,n as Ve,o as Ie,p as Ee}from"./vuetify-82b1c6b8.js";/* empty css             */import{W as De}from"./webfontloader-5f99b16f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const v of c.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&a(v)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();const Pe=["1","2","3","4","5","6","7","8","9",".","0","delete"],ae={delete:"mdi-backspace"},Be={main:"",scanner:"scanner"},ge={"/":{min:-3,default:0,max:4},"/joinRadio":{min:-3,default:1,max:13},"/messages":{min:-3,default:0,max:()=>D().contacts.length},"/channels":{min:-3,default:0,max:()=>{const n=O();return 5+(n.currentTab=="favorites"?n.favorites:n.recent).length},getScroll:n=>0+(n>6?(n-6)*48:0),scrollSelection:"#channel-list"},"/radioMembers":{min:-3,default:0,max:0},"/messages/:id":{min:-3,default:0,max:2},"/settings":{min:-3,default:0,max:()=>h().showCallSigns==!0?7:6,getScroll:n=>n<=1?0:n*50,scrollSelection:"#settings-scroll"}},Oe={[-4]:()=>{h().panicButton()},[-3]:()=>{h().togglePoweredOn()},[-2]:()=>{const n=h(),t=M();t.settings.volume!==100&&(n.playSound("click"),t.saveSettings("volume",Number(t.settings.volume)+5))},[-1]:()=>{const n=h(),t=M();t.settings.volume!==0&&(n.playSound("click"),t.saveSettings("volume",Number(t.settings.volume)-5))}},Z={"/":{0:()=>{h().changeTab("radioMembers")},1:()=>{h().changeTab("channels")},2:()=>{h().changeTab("joinRadio")},3:()=>{h().changeTab("settings")},4:()=>{h().changeTab("messages")}},"/radioMembers":{0:()=>{h().changeTab("")},invalid:()=>{const n=h(),t=D();if(n.currentAction<=-4&&n.currentAction>=n.radioMembers.length*-1-4){const s=n.radioMembers[n.currentAction*-1-5];s&&t.addContact(s)}}},"/messages":{0:()=>{h().changeTab("")},invalid:()=>{const n=h(),t=D();if(n.currentAction>0&&n.currentAction<=t.contacts.length){const s=t.contacts[n.currentAction-1];s&&t.clickContact(s)}else if(n.currentAction<=-4&&n.currentAction>=t.contacts.length*-1-4){const s=t.contacts[n.currentAction*-1-5];s&&t.removeContact(s)}}},"/messages/:id":{0:()=>{h().changeTab("messages")},1:()=>{k("toggleNuiFocus",{new:!0})},2:()=>{D().sendMessage()}},"/settings":{0:()=>{h().changeTab("")},1:()=>{const n=M();n.settings.anonymous=!n.settings.anonymous,n.saveSettings("anonymous",n.settings.anonymous)},2:()=>{const n=M();n.settings.darkTheme=!n.settings.darkTheme,n.saveSettings("theme",n.settings.darkTheme)},3:()=>{const n=M();n.settings.memberList=!n.settings.memberList,n.saveSettings("memberList",n.settings.memberList)},5:()=>{const n=M();n.settings.allowDrag=!n.settings.allowDrag,n.saveSettings("allowDrag",n.settings.allowDrag)},6:()=>{const n=M();n.settings.useMouse=!n.settings.useMouse,n.saveSettings("useMouse",n.settings.useMouse)},7:()=>{h().showCallSigns==!0&&k("toggleNuiFocus",{new:!0})}},"/channels":{0:()=>{h().changeTab("")},1:()=>{O().openNewFavoritePrompt()},2:()=>{const n=O();n.showSearch=!n.showSearch,k("toggleNuiFocus",{new:!0})},3:()=>{O().currentTab="favorites"},4:()=>{O().currentTab="recents"},invalid:()=>{const n=h(),t=O();if(n.currentAction>=5){const s=O(),a=s.currentTab=="favorites"?s.favorites:s.recent;n.joinFrequency(a[n.currentAction-5].frequency,!1,!0)}else n.currentAction<=-5&&t.removeFavorite(t.favorites[(n.currentAction+5)*-1].frequency)}},"/joinRadio":{0:()=>{h().changeTab("")},1:()=>{Q().joinFrequency()},invalid:()=>{const n=h(),t=Q();if(n.currentAction>=2){let s=null;if(n.currentAction<11?s=(n.currentAction-1).toString():n.currentAction==11?s=".":n.currentAction==12?s="0":n.currentAction==13&&t.frequency.length>0&&(t.frequency=t.frequency.slice(0,-1)),s!==null){const a=t.frequency+s;isNaN(Number(a))==!1&&t.frequency.length<10&&(t.frequency=a)}}}}};for(const n in Z)Z[n]={...Z[n],...Oe};const ne=(n,t)=>n.replace(/{(\d+)}/g,function(s,a){return typeof t[a]<"u"?t[a]:s}),je=()=>{try{return GetParentResourceName()}catch{return"zerio-radio"}},k=async(n,t={})=>await(await fetch(`https://${je()}/${n}`,{body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF8"},method:"POST"})).json(),h=W("main",{state:()=>({show:!1,poweredOn:!0,showCallSigns:!0,disableAnonymous:!1,debug:!0,currentAction:0,allowActionUpdate:!0,currentFrequency:0,translations:{},hideTop:!1,enablePanicButton:!0,street:"",status:"Unknown",voiceScript:"",identifier:"",customRadioName:"",version:"2.0.5",radioMembers:[],latestMessage:void 0}),actions:{currentTime:()=>{const n=new Date,t=n.getHours(),s=n.getMinutes();return`${t>=10?t:"0"+t}:${s>=10?s:"0"+s}`},close:(n=!1)=>{const t=h();n==!0?k("removeFocus",{}):(t.show=!1,k("close",{}),document.body.classList.remove("open"))},open:n=>{const t=h();t.show=!0,t.hideTop=!1,h().changeTab(n||""),document.body.classList.add("open")},playSound:n=>{if(h().poweredOn==!0){const t=document.getElementById(n);t&&(t.load(),t.volume=Number(M().settings.volume)/100*.5,t.play())}},togglePoweredOn:()=>{const n=h();n.poweredOn=!n.poweredOn,n.playSound("audio_off"),n.currentFrequency!==0&&(n.joinFrequency(0,!0),n.radioMembers=[])},panicButton:()=>{const n=I(),t=h();k("panicButton").then(s=>{s.status?n.addNotification(t.getTranslation(["notifications","panicButtonCooldown"]),3e3):n.addNotification(t.getTranslation(["notifications","usedPanicButton"]),3e3)})},joinFrequency:async(n,t,s)=>{const a=h();if(n!==void 0&&n!=="0"&&n!==""){a.playSound("click");const o=await k("joinRadio",{frequency:Number(n)});t!==!0&&(o.result==!0?(s!==!0&&a.changeTab(""),I().addNotification(ne(a.getTranslation(["notifications","joinedRadioText"]),[o.frequencyLabel!==""&&o.frequencyLabel!==void 0?`the ${o.frequencyLabel}`:`${o.frequency} MHz`]),3e3),a.currentFrequency=o.frequency):I().addNotification(a.getTranslation(["notifications","lockedChannelText"]),3e3))}else a.playSound("click"),k("leaveRadio",{}),a.currentFrequency=0,t!==!0&&(I().addNotification(a.getTranslation(["notifications","leftRadioText"]),3e3),s!==!0&&a.changeTab(""))},changeTab:n=>{const t=h();if(t.hideTop=n=="channels"||n=="settings"||n=="joinRadio"||n=="radioMembers"||n.includes("messages"),T.currentRoute.value.matched[0].path=="/messages/:id"){const a=D();a.message="",a.currentContact=void 0,a.currentMessages=[]}T.push("/"+n);const s=ge["/"+n];t.currentAction=s&&typeof s.default=="number"?s.default:0,n==""&&k("fetchNewestReceivedMessage",{}),M().settings.useMouse==!1&&k("updateJoinRadioChecks",{new:n=="joinRadio"})},getTranslation:n=>{const t=h();let s;for(let a=0;a<n.length;a++)if(typeof s!="string")if(s==null&&t.translations[n[a]])s=t.translations[n[a]];else if(s!==void 0&&s[n[a]])s=s[n[a]];else return"Invalid translation";return s==null?"Invalid Translation":typeof s=="string"?s:"Translation is not a string"}}}),M=W("settings",{state:()=>({settings:{darkTheme:!0,anonymous:!1,allowDrag:!1,memberList:!1,useMouse:!0,scale:20,callsign:"",positionX:"100px",positionY:"128px",position2X:"32px",position2Y:"32px",volume:100}}),actions:{saveSettings:(n,t)=>{const s=M(),a=h();s.settings[n]=t,n=="theme"?(document.body.classList.add(s.settings.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(s.settings.darkTheme?"lightmode":"darkmode")):n=="useMouse"&&a.close(),typeof t=="boolean"&&(t=t==!0?1:0),k("savesettings",{name:n,value:t})}}}),I=W("modal",{state:()=>({data:void 0,notifications:[],id:0}),actions:{addNotification:(n,t=3e3)=>{const s=I(),a=s.id;s.notifications.push({text:n,timer:t,uuid:a,date:Date.now()}),s.id++,setTimeout(()=>{const o=s.notifications.findIndex(c=>c.uuid==a);o!==-1&&s.notifications.splice(o,1)},t)},removeNotification:n=>{const t=I(),s=t.notifications.findIndex(a=>a.uuid==n);s!==void 0&&typeof s=="number"&&s!==-1&&t.notifications.splice(s,1)}}}),Q=W("joinRadio",{state:()=>({frequency:""}),actions:{joinFrequency:()=>{const n=Q(),t=h();n.frequency.charAt(n.frequency.length-1)=="."&&(n.frequency=n.frequency.slice(0,-1)),t.joinFrequency(n.frequency,!1),n.frequency=""}}}),O=W("channels",{state:()=>({favorites:[{label:"Favorit kanal",frequency:68},{label:"En till Favorit kanal",frequency:69}],currentTab:"favorites",recent:[],showSearch:!1}),actions:{openNewFavoritePrompt:()=>{const n=h();I().data={header:n.getTranslation(["channels","newPromptHeader"]),inputs:[{placeholder:n.getTranslation(["channels","frequency"]),type:"number",name:"frequency"}],buttons:[{label:n.getTranslation(["general","cancel"]),action:"close"},{label:n.getTranslation(["general","continue"]),action:t=>{t.frequency.trim().length>0&&O().addFavorite(Number(t.frequency))}}]},M().settings.useMouse==!1&&k("toggleNuiFocus",{new:!0})},removeFavorite:n=>{k("removeFavorite",{frequency:n})},addFavorite:n=>{k("addFavorite",{frequency:n})}}}),D=W("messages",{state:()=>({contacts:[],currentContact:void 0,message:"",currentMessages:[]}),actions:{sendMessage(){const n=D();n.message.trim().length>=1&&n.currentContact!==void 0&&k("sendMessage",{message:n.message,contact:n.currentContact}).then(()=>{n.message=""})},addContact(n){const t=D(),s=h(),a=I();t.isPlayerContact(n.identifier)==!1?k("addContact",{data:n}).then(o=>{o.status=="ok"&&a.addNotification(s.getTranslation(["messages","addedContact"]))}):a.addNotification(s.getTranslation(["messages","alreadyContact"]))},isPlayerContact(n){return D().contacts.findIndex(a=>a.identifier==n)!==-1},removeContact(n){const t=D();k("removeContact",{data:n}).then(s=>{s.status=="ok"&&(t.contacts=t.contacts.filter(a=>a.contact!==n.contact),I().addNotification(h().getTranslation(["messages","removedContact"])))})},clickContact(n){h().changeTab("messages/"+n.contact)}}}),me=W("scanner",{state:()=>({channels:[]})}),He={class:"item-container"},Ue={class:"info-div status"},Ye={class:"text"},Xe={class:"status-label"},We={class:"status-description street-label"},ze={class:"info-div radio"},Je={class:"top"},Ke={class:"top-icons unselectable"},Ge={class:"text"},Ze={class:"status-label radio-status"},Qe={class:"status-description radio-label"},et={class:"info-div settings buttons"},tt={class:"info-div contacts"},st={key:0,class:"text"},nt={class:"status-label"},ot={class:"status-description street-label"},at={class:"info-div location"},it={class:"text"},ct={class:"status-description street-label"},rt=A({__name:"Main",setup(n){const t=h(),s=M();return(a,o)=>(g(),f("div",He,[i("div",Ue,[i("div",Ye,[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","statusTitle"])),1)]),_:1}),i("h1",Xe,d(e(t).getTranslation(["info","status"])),1),i("h2",We,d(e(t).status),1)]),u(b,{class:"unselectable status-icon",icon:"mdi-calendar-range"})]),i("div",ze,[i("div",Je,[i("div",Ke,[u(b,{class:"top-status-icon unselectable",icon:"mdi-network-strength-3"}),u(b,{class:"top-status-icon unselectable",icon:"mdi-bluetooth-audio"}),u(b,{class:"top-status-icon unselectable",icon:"mdi-remote"}),u(b,{class:"top-status-icon unselectable",icon:"mdi-server"})]),i("div",Ge,[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","radioStatus"])),1)]),_:1}),i("h1",Ze,d(e(t).currentFrequency==0||e(t).currentFrequency==null?e(t).getTranslation(["info","notInRadio"]):e(t).getTranslation(["info","inRadio"])),1),i("h2",Qe,d(e(t).currentFrequency!==0&&e(t).currentFrequency!==void 0?e(t).customRadioName!==""?e(t).customRadioName:e(ne)(e(t).getTranslation(["info","frequency"]),[e(t).currentFrequency]):""),1)])]),u(N,{text:e(t).getTranslation(["info","openRadioMembers"]),location:"left"},{activator:S(({props:c})=>[u(b,z({onClick:o[0]||(o[0]=v=>e(t).changeTab("radioMembers")),class:"unselectable status-icon"},c,{class:{hover:e(t).currentAction==0&&!e(s).settings.useMouse},icon:"mdi-account-multiple-outline"}),null,16,["class"])]),_:1},8,["text"])]),i("div",et,[L((g(),f("div",{class:w(["button",{hover:e(t).currentAction==1&&!e(s).settings.useMouse}]),onClick:o[1]||(o[1]=c=>e(t).changeTab("channels"))},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","openChannels"])),1)]),_:1}),u(b,{class:"unselectable",icon:"mdi-format-list-bulleted"}),i("h1",null,d(e(t).getTranslation(["general","channels"])),1)],2)),[[V]]),L((g(),f("div",{class:w(["button",{hover:e(t).currentAction==2&&!e(s).settings.useMouse}]),onClick:o[2]||(o[2]=c=>e(t).changeTab("joinRadio"))},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","joinRadio"])),1)]),_:1}),u(b,{class:"unselectable",icon:"mdi-phone"}),i("h1",null,d(e(t).getTranslation(["general","connect"])),1)],2)),[[V]]),L((g(),f("div",{class:w(["button",{hover:e(t).currentAction==3&&!e(s).settings.useMouse}]),onClick:o[3]||(o[3]=c=>e(t).changeTab("settings"))},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","openSettings"])),1)]),_:1}),u(b,{class:"unselectable",icon:"mdi-dots-horizontal"}),i("h1",null,d(e(t).getTranslation(["general","settings"])),1)],2)),[[V]])]),i("div",tt,[e(t).latestMessage!==void 0?(g(),f("div",st,[i("h1",nt,d(e(t).latestMessage.author),1),i("h2",ot,d(e(t).latestMessage.message),1)])):x("",!0),L((g(),f("div",{class:w(["button",{hover:e(t).currentAction==4&&!e(s).settings.useMouse}]),onClick:o[4]||(o[4]=c=>e(t).changeTab("messages"))},[u(b,{class:"unselectable",icon:"mdi-message-bulleted"}),u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["general","viewMessages"])),1)]),_:1})],2)),[[V]])]),i("div",at,[u(b,{class:"unselectable status-icon",icon:"mdi-map-marker"}),i("div",it,[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["info","locationTitle"])),1)]),_:1}),i("h2",ct,d(e(t).street),1)])])]))}});const R=(n,t)=>{const s=n.__vccOpts||n;for(const[a,o]of t)s[a]=o;return s},lt=R(rt,[["__scopeId","data-v-25b53cb1"]]),fe=n=>(ve("data-v-90be6dca"),n=n(),_e(),n),ut={class:"main"},dt=fe(()=>i("p",null,"Seems like something went wrong, this route could not be found.",-1)),gt=fe(()=>i("p",null," Please open an ticket and send a screenshot of this to get further info. ",-1)),mt=A({__name:"NotFound",setup(n){const t=h();return(s,a)=>(g(),f("div",ut,[dt,gt,i("p",null,[q(" Your route is: "),i("b",null,d(s.$route.fullPath),1)]),i("p",{class:"goback",onClick:a[0]||(a[0]=o=>e(t).changeTab(""))},"Click here to go back")]))}});const ft=R(mt,[["__scopeId","data-v-90be6dca"]]),vt={class:"main"},_t={class:"top"},ht={class:"info"},pt={class:"frequency"},yt={class:"value"},bt={class:"buttons"},wt=["onClick","id"],St={class:"inner"},kt=A({__name:"JoinRadio",setup(n){const t=h(),s=Q(),a=M();function o(_){let r=!1;switch((_.key.toLowerCase()=="comma"||_.key.toLowerCase()=="period")&&(_.key="."),_.key.toLowerCase()){case"backspace":case"delete":s.frequency.length>0?(s.frequency=s.frequency.slice(0,-1),r=!0):k("closeFromNui",{});break;case"enter":s.joinFrequency();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":const l=s.frequency+_.key.toString();isNaN(Number(l))==!1&&s.frequency.length<10&&(s.frequency=l,r=!0);break}if(r){const l=document.getElementById(`button-${_.key.toLowerCase()=="backspace"?"delete":_.key}`);if(l){let m=function(y){const $=y.target;l!==null&&$.parentNode==l&&(setTimeout(()=>{$!==null&&$.remove()},750),l.removeEventListener("DOMNodeInserted",m))},p=l.getBoundingClientRect();l.addEventListener("DOMNodeInserted",m,!1),l.dispatchEvent(new MouseEvent("mousedown",{clientX:p.left+p.width/2,clientY:p.top+p.height/2})),setTimeout(()=>{l!==null&&l.dispatchEvent(new Event("mouseup"))},300)}}}function c(_){switch(_.data.action){case"joinRadioKeyDown":o({key:_.data.key});break}}H(()=>{window.addEventListener("message",c),window.addEventListener("keydown",o)}),Y(()=>{window.removeEventListener("message",c),window.removeEventListener("keydown",o)});function v(_){switch(_){case"delete":s.frequency.length>0&&(s.frequency=s.frequency.slice(0,-1));break;default:const r=s.frequency+_;isNaN(Number(r))==!1&&s.frequency.length<10&&(s.frequency=r);break}}return(_,r)=>(g(),f("div",vt,[i("div",_t,[u(b,{icon:"mdi-close",onClick:r[0]||(r[0]=l=>e(t).changeTab("")),class:w({hover:e(t).currentAction==0&&!e(a).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(t).getTranslation(["joinRadio","title"])),1)]),i("div",ht,[i("div",pt,[i("div",yt,d(e(s).frequency?e(s).frequency:e(t).getTranslation(["joinRadio","frequency"])),1),u(b,{icon:"mdi-arrow-right-thin",onClick:e(s).joinFrequency,class:w({hover:e(t).currentAction==1&&!e(a).settings.useMouse})},null,8,["onClick","class"])]),i("div",bt,[(g(!0),f(E,null,j(e(Pe),(l,m)=>L((g(),f("div",{class:w(["button",{hovering:e(t).currentAction==2+m&&!e(a).settings.useMouse}]),key:m,onClick:p=>v(l),id:"button-"+l},[i("div",St,[e(ae)[l]==null?(g(),f(E,{key:0},[q(d(l),1)],64)):(g(),F(b,{key:1,icon:e(ae)[l]},null,8,["icon"]))])],10,wt)),[[V]])),128))])])]))}});const Mt=R(kt,[["__scopeId","data-v-51b777a9"]]),Tt={class:"main"},$t={class:"top"},Ct={key:0,class:"empty-text"},At={key:1,class:"radio-members-container"},xt=["onClick"],Lt=A({__name:"RadioMembers",setup(n){const t=h(),s=M(),a=D();return H(()=>{k("fetchContacts",{}).then(o=>{a.contacts=o.contacts})}),(o,c)=>(g(),f("div",Tt,[i("div",$t,[u(b,{icon:"mdi-close",onClick:c[0]||(c[0]=v=>e(t).changeTab("")),class:w({hover:e(t).currentAction==0&&!e(s).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(t).getTranslation(["radioMembers","title"])),1)]),e(t).radioMembers.length==0||e(t).currentFrequency==0?(g(),f("div",Ct,d(e(t).currentFrequency==0?e(t).getTranslation(["radioMembers","notInChannel"]):e(t).getTranslation(["radioMembers","emptyMembersList"])),1)):(g(),f("div",At,[(g(!0),f(E,null,j(e(t).radioMembers,(v,_)=>(g(),f("div",{class:w(["radio-member",{hover:e(t).currentAction==_+1&&!e(s).settings.useMouse}]),key:_,style:G({color:v.talking==!0?"#fff":"rgb(225,225,225)"})},[i("p",null,d(v.name)+d(e(t).showCallSigns==!0&&v.callsign!==void 0&&v.callsign.trim().length>0?` (${v.callsign})`:""),1),i("button",{onClick:r=>e(a).addContact(v),class:w({hover:e(t).currentAction==(_+1)*-1-4&&!e(s).settings.useMouse})},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["radioMembers","addContact"])),1)]),_:1}),u(b,{icon:e(a).isPlayerContact(v.identifier)?"mdi-star":"mdi-star-outline"},null,8,["icon"])],10,xt)],6))),128))]))]))}});const Rt=R(Lt,[["__scopeId","data-v-09fafdc0"]]),Nt={class:"main"},qt={class:"top"},Ft={class:"items",id:"settings-scroll"},Vt={class:"item switch"},It={class:"info"},Et={class:"item switch"},Dt={class:"info"},Pt={class:"item switch"},Bt={class:"info"},Ot={class:"item slider"},jt={class:"info"},Ht={class:"top"},Ut={class:"item switch"},Yt={class:"info"},Xt={class:"item switch"},Wt={class:"info"},zt={class:"item textinput"},Jt={class:"info"},Kt=A({__name:"Settings",setup(n){const t=P(!1),s=P(null),a=h(),o=M();ie(()=>o.settings.scale,_=>{o.saveSettings("size",_),t.value=!1});function c(_){switch(_.data.action){case"close":t.value==!0?t.value=!1:a.changeTab("");break;case"pressLeft":typeof o.settings.scale=="number"&&a.currentAction==4&&!o.settings.useMouse&&o.settings.scale>10&&(o.settings.scale-=1);break;case"pressRight":typeof o.settings.scale=="number"&&a.currentAction==4&&!o.settings.useMouse&&o.settings.scale<40&&(o.settings.scale+=1);break;case"toggledNuiFocus":s.value!==null&&s.value.focus();break}}function v(_){o.settings.useMouse==!1&&a.currentAction==7&&_.target&&_.target.focus()}return H(()=>{window.addEventListener("message",c)}),Y(()=>{window.removeEventListener("message",c)}),(_,r)=>(g(),f("div",Nt,[i("div",qt,[u(b,{icon:"mdi-close",onClick:r[0]||(r[0]=l=>e(o).settings.useMouse?e(a).changeTab(""):null),class:w({hover:e(a).currentAction==0&&!e(o).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(a).getTranslation(["general","settings"])),1)]),i("div",Ft,[i("h1",null,d(e(a).getTranslation(["settings","connections"])),1),i("div",Vt,[u(b,{icon:"mdi-incognito"}),i("div",It,[i("h1",null,d(e(a).getTranslation(["settings","anonymous"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.anonymous?"on":"off"])),1)]),e(a).disableAnonymous!==!0?(g(),F(K,{key:0,modelValue:e(o).settings.anonymous,"onUpdate:modelValue":[r[1]||(r[1]=l=>e(o).settings.anonymous=l),r[2]||(r[2]=l=>e(o).saveSettings("anonymous",e(o).settings.anonymous))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==1&&!e(o).settings.useMouse})},null,8,["modelValue","class"])):x("",!0)]),i("h1",null,d(e(a).getTranslation(["settings","display"])),1),i("div",Et,[u(b,{icon:"mdi-theme-light-dark"}),i("div",Dt,[i("h1",null,d(e(a).getTranslation(["settings","darkMode"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.darkTheme?"on":"off"])),1)]),u(K,{modelValue:e(o).settings.darkTheme,"onUpdate:modelValue":[r[3]||(r[3]=l=>e(o).settings.darkTheme=l),r[4]||(r[4]=l=>e(o).saveSettings("theme",e(o).settings.darkTheme))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==2&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),i("div",Pt,[u(b,{icon:"mdi-format-list-bulleted"}),i("div",Bt,[i("h1",null,d(e(a).getTranslation(["settings","memberList"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.memberList?"on":"off"])),1)]),u(K,{modelValue:e(o).settings.memberList,"onUpdate:modelValue":[r[5]||(r[5]=l=>e(o).settings.memberList=l),r[6]||(r[6]=l=>e(o).saveSettings("memberList",e(o).settings.memberList))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==3&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),i("div",Ot,[u(b,{icon:"mdi-resize"}),i("div",jt,[i("div",Ht,[i("h1",null,d(e(a).getTranslation(["settings","size"])),1),i("p",null,d(Number(e(o).settings.scale)/20)+"x",1)]),u($e,{"hide-details":"",modelValue:e(o).settings.scale,"onUpdate:modelValue":r[7]||(r[7]=l=>e(o).settings.scale=l),max:40,min:10,step:1,"thumb-size":16,class:w({hover2:e(a).currentAction==4&&!e(o).settings.useMouse})},null,8,["modelValue","class"])])]),i("h1",null,d(e(a).getTranslation(["settings","device"])),1),i("div",Ut,[u(b,{icon:"mdi-drag-variant"}),i("div",Yt,[i("h1",null,d(e(a).getTranslation(["settings","allowDrag"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.allowDrag?"on":"off"])),1)]),u(K,{modelValue:e(o).settings.allowDrag,"onUpdate:modelValue":[r[8]||(r[8]=l=>e(o).settings.allowDrag=l),r[9]||(r[9]=l=>e(o).saveSettings("allowDrag",e(o).settings.allowDrag))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==5&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),i("div",Xt,[u(b,{icon:"mdi-mouse"}),i("div",Wt,[i("h1",null,d(e(a).getTranslation(["settings","useMouse"])),1),i("p",null,d(e(a).getTranslation(["settings",e(o).settings.useMouse?"on":"off"])),1)]),u(K,{modelValue:e(o).settings.useMouse,"onUpdate:modelValue":[r[10]||(r[10]=l=>e(o).settings.useMouse=l),r[11]||(r[11]=l=>e(o).saveSettings("useMouse",e(o).settings.useMouse))],color:"white","hide-details":"",class:w({hover:e(a).currentAction==6&&!e(o).settings.useMouse})},null,8,["modelValue","class"])]),e(a).showCallSigns==!0?(g(),f(E,{key:0},[i("h1",null,d(e(a).getTranslation(["settings","account"])),1),i("div",zt,[u(b,{icon:"mdi-rename"}),i("div",Jt,[i("h1",null,d(e(a).getTranslation(["settings","callsign"])),1),L(i("input",{"onUpdate:modelValue":r[12]||(r[12]=l=>e(o).settings.callsign=l),maxlength:"16",placeholder:"Type Here",onBlur:r[13]||(r[13]=l=>{v(l),e(o).saveSettings("callsign",e(o).settings.callsign)}),ref_key:"inputRef",ref:s,class:w({hover2:e(a).currentAction==7&&!e(o).settings.useMouse})},null,34),[[ce,e(o).settings.callsign]])])])],64)):x("",!0)])]))}});const Gt=R(Kt,[["__scopeId","data-v-28b8bb48"]]),Zt={class:"main"},Qt={class:"top"},es={class:"header"},ts={class:"icons"},ss={class:"tabs"},ns=["onClick"],os=["onClick"],as=A({__name:"Channels",setup(n){const t=h(),s=O(),a=I(),o=M(),c=P(""),v=P(null);function _(p){switch(p.data.action){case"addFavorite":switch(p.data.data.status){case"ok":s.favorites.unshift(p.data.data.data);break;case"noAccess":a.addNotification(t.getTranslation(["notifications","lockedChannelText"]),3e3);break}break;case"removeFavorite":s.favorites=s.favorites.filter(y=>y.frequency!==p.data.data);break;case"toggledNuiFocus":v.value!==null&&v.value.focus();break}}H(()=>{k("getChannels",{}).then(p=>{s.favorites=p.favorites,s.recent=p.recents}),window.addEventListener("message",_)}),Y(()=>{window.removeEventListener("message",_)});function r(p){o.settings.useMouse==!1&&s.showSearch==!0&&p.target&&p.target.focus()}function l(){o.settings.useMouse==!0&&s.openNewFavoritePrompt()}const m=re(()=>{const p=s.currentTab=="favorites"?s.favorites:s.recent,y=c.value.toLowerCase();return p.filter($=>$.label.toLowerCase().includes(y))});return(p,y)=>(g(),f("div",Zt,[i("div",Qt,[i("div",es,[u(b,{icon:"mdi-close",onClick:y[0]||(y[0]=$=>e(o).settings.useMouse?e(t).changeTab(""):null),class:w({hover:e(t).currentAction==0&&!e(o).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(t).getTranslation(["channels","header"])),1),i("div",ts,[u(b,{icon:"mdi-plus",onClick:l,class:w({hover:e(t).currentAction==1&&!e(o).settings.useMouse,show:e(s).currentTab=="favorites"})},null,8,["class"]),u(b,{icon:"mdi-magnify",onClick:y[1]||(y[1]=$=>e(o).settings.useMouse?e(s).showSearch=!e(s).showSearch:null),class:w({hover:e(t).currentAction==2&&!e(o).settings.useMouse})},null,8,["class"])])]),u(se,{name:"fade"},{default:S(()=>[e(s).showSearch?(g(),F(ue,{key:0,class:"search-box",placeholder:e(t).getTranslation(["channels","search"]),variant:"solo",density:"compact","single-line":"","hide-details":"",modelValue:c.value,"onUpdate:modelValue":y[2]||(y[2]=$=>c.value=$),onBlur:r,ref_key:"inputRef",ref:v},null,8,["placeholder","modelValue"])):x("",!0)]),_:1}),i("div",ss,[L((g(),f("div",{class:w(["tab",{selected:e(s).currentTab=="favorites",hover:e(t).currentAction==3&&!e(o).settings.useMouse}]),onClick:y[3]||(y[3]=$=>e(o).settings.useMouse?e(s).currentTab="favorites":null)},[u(b,{icon:"mdi-star"}),i("h1",null,d(e(t).getTranslation(["channels","favorites"])),1)],2)),[[V]]),L((g(),f("div",{class:w(["tab",{selected:e(s).currentTab=="recents",hover:e(t).currentAction==4&&!e(o).settings.useMouse}]),onClick:y[4]||(y[4]=$=>e(o).settings.useMouse?e(s).currentTab="recents":null)},[u(b,{icon:"mdi-history"}),i("h1",null,d(e(t).getTranslation(["channels","recents"])),1)],2)),[[V]])])]),i("div",{class:w(["list",{isFavorites:e(s).currentTab=="favorites"}]),id:"channel-list"},[(g(!0),f(E,null,j(m.value,($,C)=>(g(),f("div",{class:w(["item",{selected:e(t).currentFrequency==$.frequency,hover:e(t).currentAction==5+C&&!e(o).settings.useMouse}]),key:C,onClick:he(U=>e(o).settings.useMouse?e(t).joinFrequency($.frequency,!1,!0):null,["self"])},[i("p",null,d($.label),1),i("button",{onClick:U=>e(s).removeFavorite($.frequency),class:w({hover:e(t).currentAction==(C+5)*-1&&!e(o).settings.useMouse})},[u(N,{activator:"parent",location:"top"},{default:S(()=>[q(d(e(t).getTranslation(["channels","removeFavorite"])),1)]),_:1}),u(b,{icon:"mdi-delete"})],10,os)],10,ns))),128))],2)]))}});const is=R(as,[["__scopeId","data-v-88daf8d9"]]),cs={class:"main"},rs={class:"top"},ls={key:0,class:"list"},us=["onClick"],ds={class:"text"},gs={key:1,class:"empty"},ms=["innerHTML"],fs=A({__name:"ViewContacts",setup(n){const t=D(),s=h(),a=M();return H(()=>{k("fetchContacts",{}).then(o=>{t.contacts=o.contacts})}),(o,c)=>(g(),f("div",cs,[i("div",rs,[u(b,{icon:"mdi-close",onClick:c[0]||(c[0]=v=>e(a).settings.useMouse?e(s).changeTab(""):null),class:w({hover:e(s).currentAction==0&&!e(a).settings.useMouse})},null,8,["class"]),i("h1",null,d(e(s).getTranslation(["messages","header"])),1)]),e(t).contacts.length>=1?(g(),f("div",ls,[(g(!0),f(E,null,j(e(t).contacts,(v,_)=>L((g(),f("div",{class:w(["item",{hover:e(s).currentAction==_+1&&!e(a).settings.useMouse}]),key:_,onClick:r=>e(t).clickContact(v)},[u(b,{icon:v.isOnline?"mdi-check-circle":"mdi-close-circle",class:w(["circle",{isOnline:v.isOnline}])},null,8,["icon","class"]),i("div",ds,[i("h1",null,d(v.name),1),i("p",null,d(v.latestMessage),1)]),u(ee,{density:"compact"},{default:S(()=>[u(b,{icon:e(a).settings.useMouse?"mdi-dots-vertical":"mdi-delete",class:w({hover:e(s).currentAction==(_+1)*-1-4&&!e(a).settings.useMouse})},null,8,["icon","class"]),u(Ce,{activator:"parent"},{default:S(()=>[u(Ae,null,{default:S(()=>[u(xe,{onClick:r=>e(t).removeContact(v)},{default:S(()=>[u(Le,null,{default:S(()=>[q(d(e(s).getTranslation(["messages","removeContact"])),1)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)],10,us)),[[V]])),128))])):(g(),f("div",gs,[u(b,{icon:"mdi-emoticon-sad-outline"}),i("h1",{innerHTML:e(s).getTranslation(["messages","empty"])},null,8,ms)]))]))}});const vs=R(fs,[["__scopeId","data-v-ab17a903"]]),_s={class:"main"},hs={class:"top"},ps={key:0},ys={class:"list"},bs={key:0},ws={class:"input"},Ss=["placeholder"],ks=A({__name:"ViewMessages",setup(n){const t=Se(),s=D(),a=h(),o=M(),c=new Date,v=P(null);function _(m){let p="";const y=new Date(m*1e3),$=y.getMonth(),C=y.getDate(),U=y.getHours(),B=y.getMinutes();return C!==c.getDate()&&(p=`${C} ${a.getTranslation(["months",$])} `),p+=`${U<10?"0"+U:U}:${B<10?"0"+B:B}`,p}function r(m){switch(m.data.action){case"addMessage":(a.identifier==m.data.data.receiver||a.identifier==m.data.data.sender)&&s.currentMessages.unshift(m.data.data);break;case"toggledNuiFocus":v.value!==null&&v.value.focus();break}}function l(m){o.settings.useMouse==!1&&a.currentAction==1&&m.target&&m.target.focus()}return H(()=>{const m=t.params;let p;for(let y=0;y<s.contacts.length;y++)s.contacts[y].contact==m.id&&(p=s.contacts[y]);if(p)k("getMessages",{data:p}).then(y=>{s.currentContact=p,s.currentMessages=y});else{T.push("/messages");return}window.addEventListener("message",r)}),Y(()=>{window.removeEventListener("message",r)}),(m,p)=>(g(),f("div",_s,[i("div",hs,[u(b,{icon:"mdi-close",onClick:p[0]||(p[0]=y=>e(o).settings.useMouse?e(a).changeTab(""):null),class:w({hover:e(a).currentAction==0&&!e(o).settings.useMouse})},null,8,["class"]),e(s).currentContact?(g(),f("h1",ps,d(e(s).currentContact.name),1)):x("",!0)]),i("div",ys,[(g(!0),f(E,null,j(e(s).currentMessages,(y,$)=>(g(),f("div",{class:w(["item",{isAuthor:y.sender==e(a).identifier}]),key:$},[i("p",null,d(_(y.timestamp)),1),i("h1",null,d(y.content),1),y.sender==e(a).identifier?(g(),f("p",bs,d(e(a).getTranslation(["messages","sent"])),1)):x("",!0)],2))),128))]),i("div",ws,[L(i("input",{placeholder:e(a).getTranslation(["messages","input"]),"onUpdate:modelValue":p[1]||(p[1]=y=>e(s).message=y),onKeydown:p[2]||(p[2]=pe((...y)=>e(s).sendMessage&&e(s).sendMessage(...y),["enter"])),class:w({hover3:e(a).currentAction==1&&!e(o).settings.useMouse}),onBlur:l,ref_key:"inputRef",ref:v},null,42,Ss),[[ce,e(s).message]]),L((g(),f("button",{onClick:p[3]||(p[3]=(...y)=>e(s).sendMessage&&e(s).sendMessage(...y)),class:w({hover:e(a).currentAction==2&&!e(o).settings.useMouse})},[u(b,{icon:"mdi-send"})],2)),[[V]])])]))}});const Ms=R(ks,[["__scopeId","data-v-b238ecc2"]]),Ts={class:"main-cont"},$s=A({__name:"MainScanner",setup(n){const t=me(),s=h(),a=P(!1);function o(v){switch(v.data.action){case"fetchNearbyChannels":t.channels=v.data.data.sort(),a.value=!1,T.push("/scanner/list");break}}function c(){a.value==!1&&(a.value=!0,k("fetchNearbyChannels",{}))}return H(()=>{window.addEventListener("message",o)}),Y(()=>{window.removeEventListener("message",o)}),(v,_)=>(g(),f("div",Ts,[a.value?(g(),F(de,{key:0,indeterminate:"",color:"green",size:54,width:5})):x("",!0),u(ee,{onClick:c,disabled:a.value},{default:S(()=>[q(d(e(s).getTranslation(["scanner","scan"])),1)]),_:1},8,["disabled"])]))}});const Cs=R($s,[["__scopeId","data-v-d76f0508"]]),As={class:"main-cont"},xs={key:0,class:"list"},Ls={key:1,class:"notFound"},Rs=A({__name:"ScannerList",setup(n){const t=h(),s=me();return(a,o)=>(g(),f("div",As,[e(s).channels.length>0?(g(),f("div",xs,[(g(!0),f(E,null,j(e(s).channels,(c,v)=>(g(),f("div",{class:"item",key:v},d(e(ne)(e(t).getTranslation(["scanner","channel"]),[c.freq,c.distance])),1))),128))])):(g(),f("div",Ls,d(e(t).getTranslation(["scanner","nothingFound"])),1)),u(ee,{onClick:o[0]||(o[0]=c=>e(T).push("/scanner"))},{default:S(()=>[q(d(e(t).getTranslation(["general","goback"])),1)]),_:1})]))}});const Ns=R(Rs,[["__scopeId","data-v-57b60092"]]),T=ke({history:Me(),routes:[{path:"/",component:lt,meta:{layout:"main",rootRoute:!0}},{path:"/:pathMatch(.*)*",component:ft,meta:{layout:"main"}},{path:"/joinRadio",component:Mt,meta:{layout:"main"}},{path:"/channels",component:is,meta:{layout:"main"}},{path:"/radioMembers",component:Rt,meta:{layout:"main"}},{path:"/settings",component:Gt,meta:{layout:"main"}},{path:"/messages",component:vs,meta:{layout:"main"}},{path:"/messages/:id",component:Ms,meta:{layout:"main"}},{path:"/scanner",component:Cs,meta:{layout:"scanner",rootRoute:!0}},{path:"/scanner/list",component:Ns,meta:{layout:"scanner"}}]}),qs={key:0,class:"top-container"},Fs={class:"top-time unselectable"},Vs={class:"top-volume unselectable"},Is=A({__name:"Top",setup(n){const t=h(),s=M();return(a,o)=>e(t).poweredOn?(g(),f("div",qs,[i("div",null,[u(b,{class:"unselectable top-battery",icon:"mdi-battery"}),i("h1",Fs,d(e(t).currentTime()),1)]),i("div",null,[u(b,{class:"unselectable top-volume-icon",icon:"mdi-volume-high"}),i("h1",Vs,d(e(s).settings.volume)+"% ",1)])])):x("",!0)}});const Es=R(Is,[["__scopeId","data-v-669163a9"]]),Ds=A({__name:"ExtraButtons",setup(n){const t=h(),s=M();return(a,o)=>(g(),f(E,null,[e(t).enablePanicButton?(g(),F(N,{key:0,text:e(t).getTranslation(["general","panicButton"]),location:"start"},{activator:S(({props:c})=>[L(i("a",z({class:"radio-panic-button",onClick:o[0]||(o[0]=(...v)=>e(t).panicButton&&e(t).panicButton(...v))},c,{class:{hovering:e(t).currentAction==-4&&!e(s).settings.useMouse}}),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"])):x("",!0),u(N,{text:e(t).getTranslation(["general","goback"]),location:"bottom"},{activator:S(({props:c})=>[L(i("a",z({class:"radio-home-button",onClick:o[1]||(o[1]=()=>{e(t).playSound("click"),e(T).currentRoute.value.path!=="/"?e(t).changeTab(""):e(t).close()})},c),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"]),u(N,{text:e(t).getTranslation(["general","volumeDown"]),location:"start"},{activator:S(({props:c})=>[L(i("a",z({onClick:o[2]||(o[2]=()=>{e(s).settings.volume!==0&&(e(t).playSound("click"),typeof e(s).settings.volume=="number"&&(e(s).settings.volume-=5),e(s).saveSettings("volume",e(s).settings.volume))}),class:["radio-volume-up-button",{hovering:e(t).currentAction==-1&&!e(s).settings.useMouse}]},c),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"]),u(N,{text:e(t).getTranslation(["general","volumeUp"]),location:"end"},{activator:S(({props:c})=>[L(i("a",z({onClick:o[3]||(o[3]=()=>{e(s).settings.volume!==100&&(e(t).playSound("click"),typeof e(s).settings.volume=="number"&&(e(s).settings.volume+=5),e(s).saveSettings("volume",e(s).settings.volume))}),class:[{hovering:e(t).currentAction==-2&&!e(s).settings.useMouse},"radio-volume-down-button"]},c),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"]),u(N,{text:e(t).poweredOn?e(t).getTranslation(["general","turnOff"]):e(t).getTranslation(["general","turnOn"]),location:"start"},{activator:S(({props:c})=>[L(i("a",z({class:["radio-power-button",{hovering:e(t).currentAction==-3&&!e(s).settings.useMouse}],onClick:o[4]||(o[4]=()=>{e(t).playSound("audio_off"),e(t).togglePoweredOn()})},c),null,16),[[V,{class:"white--text"}]])]),_:1},8,["text"])],64))}});const Ps=R(Ds,[["__scopeId","data-v-e935e0a8"]]),Bs={key:0,class:"modal"},Os={class:"top"},js={key:0},Hs={key:1,class:"inputs"},Us={key:2,class:"buttons"},Ys=A({__name:"Modal",setup(n){const t=I(),s=M(),a=re(()=>t.data),o=P({});function c(){t.data=void 0,o.value={},s.settings.useMouse==!1&&k("toggleNuiFocus",{new:!1})}function v(_){_.action&&(_.action=="close"||_.action(o.value),c())}return(_,r)=>(g(),F(se,{name:"modalFade"},{default:S(()=>[a.value!==void 0?L((g(),f("div",Bs,[i("div",Os,[i("h1",null,d(a.value.header),1),u(b,{icon:"mdi-close",onClick:c})]),a.value.description!==void 0?(g(),f("p",js,d(a.value.description),1)):x("",!0),a.value.inputs!==void 0?(g(),f("div",Hs,[(g(!0),f(E,null,j(a.value.inputs,(l,m)=>(g(),F(ue,{key:m,label:l.label,placeholder:l.placeholder,type:l.type,modelValue:o.value[l.name],"onUpdate:modelValue":p=>o.value[l.name]=p,variant:"solo","hide-details":""},null,8,["label","placeholder","type","modelValue","onUpdate:modelValue"]))),128))])):x("",!0),a.value.buttons!==void 0?(g(),f("div",Us,[(g(!0),f(E,null,j(a.value.buttons,(l,m)=>(g(),F(ee,{class:"button",variant:"tonal",size:"small",key:m,onClick:p=>v(l)},{default:S(()=>[q(d(l.label),1)]),_:2},1032,["onClick"]))),128))])):x("",!0)])),[[Re,c]]):x("",!0)]),_:1}))}});const Xs={class:"text"},Ws=A({__name:"Notification",props:{data:{},id:{}},setup(n){const t=n,s=P(void 0),a=P(0),o=I();return H(()=>{s.value=setInterval(()=>{const c=Date.now();a.value=(c-t.data.date)/(t.data.timer/100)},1)}),Y(()=>{s.value!==void 0&&(clearTimeout(s.value),s.value=void 0)}),(c,v)=>(g(),f("div",{class:"notification",style:G({"z-index":1e3-c.id})},[i("div",Xs,d(c.data.text),1),u(de,{"model-value":a.value,size:28,width:2,onClick:e(o).removeNotification},{default:S(()=>[u(b,{icon:"mdi-close"})]),_:1},8,["model-value","onClick"])],4))}});const zs=R(Ws,[["__scopeId","data-v-45c5d81c"]]),Js=A({__name:"Notifications",setup(n){const t=I();return(s,a)=>(g(),F(ye,{name:"list",tag:"div",class:"notifications"},{default:S(()=>[(g(!0),f(E,null,j(e(t).notifications,(o,c)=>(g(),F(zs,{key:c,data:o,id:o.uuid},null,8,["data","id"]))),128))]),_:1}))}});const Ks=R(Js,[["__scopeId","data-v-b0941503"]]),Gs=["src"],Zs=["src"],Qs=["src"],en=A({__name:"MainLayout",setup(n){const t=h(),s=M(),a=P(null),o=P(!1);function c(){if(s.settings.allowDrag){let v=function(r){if(a.value!==null){let l=window.innerWidth-r.pageX-a.value.offsetWidth/2,m=window.innerHeight-r.pageY-a.value.offsetHeight/2;l<0&&(l=0),l>window.innerWidth-a.value.offsetWidth&&(l=window.innerWidth-a.value.offsetWidth),m<0&&(m=0),m>window.innerHeight-a.value.offsetHeight&&(m=window.innerHeight-a.value.offsetHeight),s.settings.positionX=`${l}px`,s.settings.positionY=`${m}px`}},_=function(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",_),a.value!==null&&(s.saveSettings("positionX",s.settings.positionX),s.saveSettings("positionY",s.settings.positionY))};document.addEventListener("mouseup",_),document.addEventListener("mousemove",v)}}return(v,_)=>{const r=le("router-view");return g(),f(E,null,[i("div",{onMousedown:c,class:"main-container",ref_key:"mainCont",ref:a,style:G({transform:`scale(${Number(e(s).settings.scale)/20}) ${e(t).show?"":" translateY(100%)"}`,right:e(s).settings.positionX.toString(),bottom:e(s).settings.positionY.toString(),opacity:e(t).show?"1":"0",cursor:e(s).settings.allowDrag?"move":"default",background:e(t).poweredOn?"var(--background)":"#101121"})},[e(t).hideTop?x("",!0):(g(),F(Es,{key:0})),u(Ys),u(Ks),e(t).poweredOn?(g(),f("div",{key:1,class:w(["items-container",{topBar:!e(t).hideTop}])},[u(r,null,{default:S(({Component:l})=>[u(se,{name:"fade"},{default:S(()=>[(g(),F(be(l)))]),_:2},1024)]),_:1})],2)):x("",!0),u(Ps)],36),i("audio",{id:"audio_on",src:`${o.value?"":"/html"}/sounds/on.ogg`},null,8,Gs),i("audio",{id:"audio_off",src:`${o.value?"":"/html"}/sounds/off.ogg`},null,8,Zs),i("audio",{id:"click",src:`${o.value?"":"/html"}/sounds/click.ogg`},null,8,Qs)],64)}}});const tn=R(en,[["__scopeId","data-v-93b677ed"]]),sn={class:"top"},nn={class:"header"},on=A({__name:"ScannerLayout",setup(n){const t=h();return(s,a)=>{const o=le("router-view");return g(),f("div",{class:"main",style:G({opacity:e(t).show?"1":"0"})},[i("div",sn,[i("div",nn,d(e(t).getTranslation(["scanner","header"])),1)]),u(o)],4)}}});const an=R(on,[["__scopeId","data-v-31c15fd7"]]),cn={class:"header"},rn={class:"radio-member-list"},ln=A({__name:"PlayerList",setup(n){const t=P(!0),s=P(null),a=M(),o=h(),{settings:c}=oe(a),{debug:v,radioMembers:_,showCallSigns:r,poweredOn:l}=oe(o);let m=null;function p(C){switch(C.data.action){case"open":t.value=C.data.data.ShowPlayerList;break;case"setShowPlayerList":t.value=C.data.ShowPlayerList;break}}function y(C){C==!0?m==null&&(m=setInterval(()=>{o.show&&(console.log("showPlayerList option",t.value),console.log("memberList setting",a.settings.memberList),console.log("radioMembers",JSON.stringify(_.value)),console.log("radioMembers length",_.value.length),console.log("---"))},1e3)):C==!1&&m!==null&&(clearTimeout(m),m=null)}ie(v,C=>{y(C)}),y(v.value),H(()=>{window.addEventListener("message",p)}),Y(()=>{window.removeEventListener("message",p)});function $(){if(a.settings.allowDrag){let C=function(B){if(s.value!==null){let X=window.innerWidth-B.pageX-s.value.offsetWidth/2,J=B.pageY-s.value.offsetHeight/2;X<0&&(X=0),X>window.innerWidth-s.value.offsetWidth&&(X=window.innerWidth-s.value.offsetWidth),J<0&&(J=0),J>window.innerHeight-s.value.offsetHeight&&(J=window.innerHeight-s.value.offsetHeight),a.settings.position2X=`${X}px`,a.settings.position2Y=`${J}px`}},U=function(){document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",U),s.value!==null&&(k("savesettings",{name:"position2X",value:a.settings.position2X}),k("savesettings",{name:"position2Y",value:a.settings.position2Y}))};document.addEventListener("mouseup",U),document.addEventListener("mousemove",C)}}return(C,U)=>t.value==!0&&e(c).memberList==!0&&e(_).length>0&&e(l)==!0?(g(),f("div",{key:0,class:"radio-members",style:G({cursor:e(c).allowDrag?"move":"default",transform:"scale("+Number(e(c).scale)/20+")",top:e(c).position2Y.toString(),right:e(c).position2X.toString()}),ref_key:"playerList",ref:s,onMousedown:$},[i("div",cn,d(e(o).getTranslation(["radioMembers","title"])),1),i("div",rn,[(g(!0),f(E,null,j(e(_),(B,X)=>(g(),f("div",{class:w(["radio-member",{talking:B.talking}]),key:X},[i("span",null,d(B.name)+d(e(r)==!0&&B.callsign!==void 0&&B.callsign.trim().length>0?` (${B.callsign})`:""),1)],2))),128))])],36)):x("",!0)}});const un=R(ln,[["__scopeId","data-v-5060164a"]]),dn=A({__name:"Layout",setup(n){const t=h(),s=O(),a=D(),o=I(),c=M();function v(r){switch(r.data.action){case"open":t.open(),t.disableAnonymous=r.data.data.DisableAnonymous,t.showCallSigns=r.data.data.AllowCallSigns,t.currentAction=0,t.enablePanicButton=r.data.data.EnablePanicButton,t.debug=r.data.data.Debug,t.version!==r.data.data.Version&&(console.warn("Mismatched version, seems like you have forgotten to update the ui/html files."),console.warn("These ui/html files are from version: "+t.version+". But your fxmanifest version is: "+r.data.data.Version));break;case"openScanner":t.open("scanner");break;case"close":T.currentRoute.value.path!=="/settings"&&(T.currentRoute.value.path!=="/"?t.changeTab(""):t.close());break;case"insertContact":a.contacts.push(r.data.data);break;case"setShowPlayerList":t.showCallSigns=r.data.AllowCallSigns;break;case"arrowDown":if(t.allowActionUpdate==!0&&t.poweredOn==!0){const m=ge[T.currentRoute.value.matched[0].path];if(m){switch(r.data.arrow){case"down":t.currentAction<=(typeof m.max=="number"?m.max:m.max())?t.currentAction+=1:t.currentAction=typeof m.min=="number"?m.min:m.min();break;case"up":t.currentAction>=(typeof m.min=="number"?m.min:m.min())?t.currentAction-=1:t.currentAction=typeof m.max=="number"?m.max:m.max();break}if(m.scrollSelection&&m.getScroll){const p=document.querySelector(m.scrollSelection);p&&p.scrollTo(0,m.getScroll(t.currentAction))}}}break;case"clickedEnter":if(o.data!==void 0)o.data=void 0;else{const m=Z[T.currentRoute.value.matched[0].path];m&&(m[t.currentAction]?m[t.currentAction]():m.invalid&&m.invalid())}break;case"pressLeft":(T.currentRoute.value.matched[0].path=="/messages"||T.currentRoute.value.matched[0].path=="/radioMembers")&&t.currentAction<=-5?t.currentAction=t.currentAction*-1-4:T.currentRoute.value.matched[0].path=="/channels"&&t.currentAction<=-5?t.currentAction=t.currentAction*-1:T.currentRoute.value.matched[0].path!=="/settings"&&t.currentAction!==3&&(t.currentAction=-4);break;case"pressRight":(T.currentRoute.value.matched[0].path=="/messages"||T.currentRoute.value.matched[0].path=="/radioMembers")&&t.currentAction>=1?t.currentAction=t.currentAction*-1-4:T.currentRoute.value.matched[0].path=="/channels"&&t.currentAction>4?t.currentAction=t.currentAction*-1:t.currentAction==-4&&(t.currentAction=0);break;case"updateData":t.street=r.data.data.streetLabel,t.translations=r.data.data.translations,t.voiceScript=r.data.data.voiceScript,t.currentFrequency=r.data.data.radioFrequency,t.customRadioName=r.data.data.radioLabel,t.status=r.data.data.status;break;case"updateRadioMembers":let l=r.data.data;typeof l=="object"&&(Array.isArray(l)==!1&&(l=Object.values(l)),Array.isArray(l)==!0&&(l=l.filter(m=>m!=null),t.radioMembers=l));break;case"setNewestReceivedMessage":t.latestMessage=r.data.data;break;case"updateSettings":c.settings.scale=r.data.data.size,c.settings.callsign=r.data.data.callsign,t.identifier=r.data.data.identifier,t.disableAnonymous!==!0&&(c.settings.anonymous=r.data.data.anonymous),c.settings.darkTheme=r.data.data.theme,c.settings.memberList=r.data.data.memberList,c.settings.useMouse=r.data.data.useMouse,document.body.classList.add(c.settings.darkTheme?"darkmode":"lightmode"),document.body.classList.remove(c.settings.darkTheme?"lightmode":"darkmode"),r.data.data.volume&&(c.settings.volume=r.data.data.volume),c.settings.positionX=r.data.data.positionX,c.settings.positionY=r.data.data.positionY,c.settings.position2X=r.data.data.position2X,c.settings.position2Y=r.data.data.position2Y;break}}function _(r){switch(r.key.toLowerCase()){case"escape":if(c.settings.useMouse==!1){s.showSearch==!0&&(s.showSearch=!1),k("toggleNuiFocus",{new:!1});return}if(o.data){o.data=void 0,k("toggleNuiFocus",{new:!1});return}T.currentRoute.value.meta.rootRoute==!0?t.close():typeof T.currentRoute.value.meta.layout=="string"?t.changeTab(Be[T.currentRoute.value.meta.layout]):t.changeTab("");break}}return H(()=>{document.body.classList.add(c.settings.darkTheme?"darkmode":"lightmode"),window.addEventListener("keydown",_),window.addEventListener("message",v)}),Y(()=>{window.removeEventListener("keydown",_),window.removeEventListener("message",v)}),(r,l)=>(g(),F(Ne,{class:w({open:e(t).show})},{default:S(()=>[e(T).currentRoute.value.meta.layout=="scanner"?(g(),F(an,{key:0})):x("",!0),e(T).currentRoute.value.meta.layout=="main"?(g(),F(tn,{key:1})):x("",!0),u(un)]),_:1},8,["class"]))}}),gn=qe({components:Fe,directives:Ve,theme:{defaultTheme:"dark"},icons:{defaultSet:"mdi",aliases:Ie,sets:{mdi:Ee}}}),mn=Te();De.load({google:{families:["Source Sans Pro","Montserrat","Lato","Roboto"]}});const te=we(dn);te.use(gn);te.use(T);te.use(mn);te.mount("#app");
